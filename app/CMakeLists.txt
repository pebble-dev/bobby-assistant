# Copyright 2025 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# This file *will not build anything useful*. It's just here so CLion can evaluate the project.
# Use the standard pebble tooling to build.
cmake_minimum_required(VERSION 3.26)
project(tiny_assistant_app)

set(CMAKE_CXX_STANDARD 11)

set(CMAKE_INCLUDE_SYSTEM_DIRECTORIES FALSE)

# The Pebble SDK (pebble.h, etc.)
# This assumes an SDK include directory in the same directory as this project, which is a weird thing to do.
# I did it anyway.
include_directories(sdk-include)

# Autogenerated output
include_directories(build/include)
include_directories(build/basalt)  # this is only going to work for basalt, but what can you do?

# Each of the Pebble Packages we install needs an entry like this.
include_directories(node_modules/pebble-clay/dist/include)
include_directories(node_modules/pebble-events/dist/include)
include_directories(node_modules/@smallstoneapps/linked-list/dist/include)

# Ourselves.
include_directories(src/c)

# Y'know, all the files.
add_executable(tiny_assistant_app
        src/c/alarms/alarm_window.c
        src/c/alarms/manager.c
        src/c/converse/conversation.c
        src/c/converse/conversation_manager.c
        src/c/converse/segments/segment_layer.c
        src/c/converse/session_window.c
        src/c/util/thinking_layer.c
        src/c/assistant.c
        src/c/root_window.c
        src/c/menus/root_menu.c
        src/c/menus/quota_window.c
        src/c/menus/usage_layer.c
        src/c/menus/alarm_menu.c
        src/c/menus/alarm_menu.h
        src/c/menus/legal_window.c
        src/c/consent/consent.c
        src/c/util/vector_layer.c
        src/c/util/style.c)
